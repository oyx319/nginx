server {
        listen 80;
        listen 443 ssl;

        server_name palaka.cn www.palaka.cn;
        access_log /var/log/nginx/access/palaka_cn.log access;
        ssl on;
        ssl_certificate /etc/nginx/ssl/palaka_cn/nginx/palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/palaka_cn/nginx/palaka.cn.key;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;


        if ($host = "www.palaka.cn") {
                rewrite ^(.*) http://palaka.cn$1 permanent;
        }

        location ^~ / {
               proxy_pass https://paracraft.cn/;
               #rewrite ^/ https://edu.palaka.cn/ permanent;
               #include proxy_params;
        }
}


server{
        listen 80;

        server_name edu.palaka.cn;
        access_log /var/log/nginx/access/edu.palaka.cn.log access;
        proxy_http_version 1.1;

        location / {
                rewrite ^/ https://edu.palaka.cn/ permanent;
                #X-Real-IP传参真实IP
                proxy_set_header X-Real-IP $remote_addr;
        }
        location /status {
        stub_status on;
        }
}
server {
        listen 443 ssl;

        server_name edu.palaka.cn;
        access_log /var/log/nginx/access/edu.palaka.cn.log access;
        proxy_http_version 1.1;

        ssl on;
        ssl_certificate /etc/nginx/ssl/edu.palaka.cn_nginx/edu.palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/edu.palaka.cn_nginx/edu.palaka.cn.key;

        location / {
               proxy_pass http://172.16.0.34:80;
               #proxy_pass http://172.16.32.2:32615;
               include proxy_params;
               #X-Real-IP传参真实IP
               proxy_set_header X-Real-IP $remote_addr;
        }
        location /status {
        stub_status on;
        }

}
server{
        listen 80;

        server_name client.palaka.cn;
        access_log /var/log/nginx/access/a-client.log access;

        proxy_http_version 1.1;

        location / {
                rewrite ^/ https://client.palaka.cn/ permanent;
        }
}
server {
        listen 443 ssl;

        server_name client.palaka.cn;
        access_log /var/log/nginx/access/a-client.log access;
        proxy_http_version 1.1;

        ssl on;
        ssl_certificate /etc/nginx/ssl/client.palaka.cn_nginx/client.palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/client.palaka.cn_nginx/client.palaka.cn.key;
        location = /MP_verify_NShWUEnPPMuxAuDf.txt {
                 root /usr/share/nginx/html;
                 index  MP_verify_NShWUEnPPMuxAuDf.txt;
        }
        location = /MP_verify_nS0SOmw1kT0mDFWJ.txt {
                 root /usr/share/nginx/html;
                 index MP_verify_nS0SOmw1kT0mDFWJ.txt;
        }
        location = /.well-known/pki-validation/93980F41E9E42A23A2D464D1185A2585.txt {
                 root /usr/share/nginx/html;
                 index  93980F41E9E42A23A2D464D1185A2585.txt;
         }       
        location / {
               proxy_pass http://172.16.32.2:32615;
               include proxy_params;
        }

}
server{
        listen 80;

        server_name papa.palaka.cn;
        access_log /var/log/nginx/access/papa.palaka.cn.log access;
        proxy_http_version 1.1;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;

        location / {
                rewrite ^/ https://papa.palaka.cn/ permanent;
        }
        location /status {
        stub_status on;
        }
}
server {
        listen 443 ssl;

        server_name papa.palaka.cn;
        access_log /var/log/nginx/access/papa.palaka.cn.log access;
        proxy_http_version 1.1;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;

        ssl on;
        ssl_certificate /etc/nginx/ssl/papa.palaka.cn_nginx/papa.palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/papa.palaka.cn_nginx/papa.palaka.cn.key;

        location / {
               proxy_pass http://172.16.32.2:32615;
               include proxy_params;
        }
        location /status {
        stub_status on;
        }

        location /dlapp {
                rewrite ^/ https://keepwork.com/official/open/lessons/experience/papa_app permanent;
        }
}

server{
        listen 80;

        server_name papa-app.palaka.cn;
        access_log /var/log/nginx/access/papa-app.palaka.cn.log access;
        proxy_http_version 1.1;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;        

        location / {
                rewrite ^/ https://papa-app.palaka.cn/ permanent;
        }
        location /status {
        stub_status on;
        }
}
server {
        listen 443 ssl;

        server_name papa-app.palaka.cn;
        access_log /var/log/nginx/access/papa-app.palaka.cn.log access;
        proxy_http_version 1.1;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;
         
        ssl on;
        ssl_certificate /etc/nginx/ssl/papa-app.palaka.cn_nginx/papa-app.palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/papa-app.palaka.cn_nginx/papa-app.palaka.cn.key;
        
        location / {
               proxy_pass http://172.16.32.2:32615;
               include proxy_params;
        }
        location /status {
        stub_status on;
        }
}

server {
        listen 80;
        listen 443 ssl;

        server_name waf.palaka.cn;
        access_log /var/log/nginx/access/palaka_cn.log access;
        ssl_certificate /etc/nginx/ssl/waf.palaka.cn_nginx/waf.palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/waf.palaka.cn_nginx/waf.palaka.cn.key;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;

        location  / {
               proxy_pass https://172.16.0.34:9443;
               include proxy_params;
        }
}


server {
        listen 80;
        listen 443 ssl;

        server_name cp.palaka.cn;
        access_log /var/log/nginx/access/cp_palaka_cn.log access;
        ssl on;
        ssl_certificate /etc/nginx/ssl/cp.palaka.cn_nginx/cp.palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/cp.palaka.cn_nginx/cp.palaka.cn.key;
        proxy_http_version 1.1;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;

        location  /RaVtF3GbU9.txt {
                # root /usr/share/nginx/html;
                 #index RaVtF3GbU9.txt;
                default_type text/html;
                return 200 "9bbc16218f689c784198bbdbd8720ab2";
        }

        location  / {
               proxy_pass http://172.16.32.2:32615;
               include proxy_params;
        }
}

server{
        listen 80;

        server_name community.palaka.cn;
        access_log /var/log/nginx/access/community_palaka_cn.log access;
        proxy_http_version 1.1;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;        

        location / {
                rewrite ^/ https://community.palaka.cn/ permanent;
        }
        location /status {
        stub_status on;
        }
}
server {
        listen 443 ssl;

        server_name community.palaka.cn;
        access_log /var/log/nginx/access/community_palaka_cn.log access;
        proxy_http_version 1.1;
        add_header Cache-Control no-cache;
        add_header Pragma no-cache;
         
        ssl on;
        ssl_certificate /etc/nginx/ssl/community.palaka.cn_nginx/community.palaka.cn_bundle.crt;
        ssl_certificate_key /etc/nginx/ssl/community.palaka.cn_nginx/community.palaka.cn.key;
        
        location / {
               proxy_pass http://172.16.32.2:32615;
               include proxy_params;
        }
        location /status {
        stub_status on;
        }
}